<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Registrar Empréstimo e Devolução</title>
</head>
<body>
<h2>Registrar Empréstimo</h2>
<form th:action="@{/emprestimoDevolucao}" method="post">
    <input type="hidden" name="acao" value="emprestimo" />

    <label>Usuário:</label><br>
    <select name="idUsuario" required>
        <option value="" disabled selected>Selecione o usuário</option>
        <option th:each="usuario : ${usuarios}" 
                th:value="${usuario.matricula}" 
                th:text="${usuario.nome} + ' (' + usuario.tipo + ')'">
        </option>
    </select><br>

    <label>Livro:</label><br>
    <select name="idLivro" required>
        <option value="" disabled selected>Selecione o livro</option>
        <option th:each="livro : ${livros}"
                th:value="${livro.isbn}"
                th:text="${livro.titulo} + ' - ' + livro.autor">
        </option>
    </select><br><br>

    <button type="submit">Registrar Empréstimo</button>
</form>

<hr />

<h2>Registrar Devolução</h2>
<form th:action="@{/emprestimoDevolucao}" method="post">
    <input type="hidden" name="acao" value="devolucao" />

    <label>ID do Empréstimo:</label><br>
    <input type="number" name="idEmprestimo" required /><br>

    <label>Livro:</label><br>
    <select name="idLivro" required>
        <option value="" disabled selected>Selecione o livro</option>
        <option th:each="livro : ${livros}"
                th:value="${livro.isbn}"
                th:text="${livro.titulo} + ' - ' + livro.autor">
        </option>
    </select><br><br>

    <button type="submit">Registrar Devolução</button>
</form>
</body>
</html>
